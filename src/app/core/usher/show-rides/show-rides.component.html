<div class="full-page">
    <div class="header">
        <h2>Rides: {{ fromName }} to {{ toName }}</h2>
    </div>
    <div class="grow-item">
        <table *ngIf="rides && rides.length > 0">
            <tr>
                <th></th>
                <th>Driver</th>
                <th>Mobile</th>
                <th>Status</th>
                <th>Visit Time</th>
                <th>Passengers</th>
                <th>Patient</th>
            </tr>
            <tr *ngFor="let r of rides">
                <td>
                    <button mat-flat-button [matMenuTriggerFor]="menu">
                        <mat-icon>more_vert</mat-icon>
                    </button>
                    <mat-menu #menu="matMenu">
                        <button *ngIf="r.driverId && r.driverId.length > 0" mat-menu-item (click)="removeDriver(r)">Remove Driver</button>
                        <button *ngIf="!(r.driverId && r.driverId.length > 0)" mat-menu-item (click)="setDriver(r)">Set Driver</button>
                        <button *ngIf="(r.status === 'waitingForAccept')" mat-menu-item (click)="accept4Driver(r)">Accept For Driver</button>
                        <button *ngIf="(r.status === 'waitingForStart')" mat-menu-item (click)="start4Driver(r)">Start For Driver</button>
                        <button *ngIf="(r.status === 'waitingForPickup')" mat-menu-item (click)="pickup4Driver(r)">Pickup For Driver</button>
                        <button *ngIf="(r.status === 'waitingForArrived')" mat-menu-item (click)="arrived4Driver(r)">Arrived For Driver</button>
                        <button *ngIf="(r.status === 'waitingForEnd')" mat-menu-item (click)="end4Driver(r)">End For Driver</button>
                    </mat-menu>
                </td>
                <!-- <td><button mat-raised-button (click)="approveDriver(r)">approve</button></td> -->
                <td><button *ngIf="r.driverId && r.driverId.length > 0  " (click)="openDriver(r)"><u>{{ r.driver }}</u></button></td>
                <td>{{ r.dMobile }}</td>
                <td>{{ r.status }}</td>
                <td>{{ r.visitTime }}</td>
                <td>{{ r.passengers }}</td>
                <td><button (click)="openPatient(r)"><u>{{ r.patient }}</u></button></td>
            </tr>
        </table>
    </div>
    <div class="footer">
    </div>
</div>
<div class="full-page">
    <div class="header">
        <table style="width: 100%;">
            <tr>
                <td><button mat-flat-button style="color: blue;background-color: transparent;">
                        <u>{{ 'Call Avishai' }}</u>
                        <mat-icon>call</mat-icon>
                    </button></td>
                <td><button mat-flat-button style="color: blue;background-color: transparent;">
                        <u>{{ 'Send Avishai' }}</u>
                        <mat-icon>send</mat-icon>
                    </button></td>
                <td><button mat-flat-button style="color: blue;background-color: transparent;">
                        <u>{{ '*1234' }}</u>
                        <mat-icon>call</mat-icon>
                    </button></td>
            </tr>
        </table>
        <hr style="height:2px;border-width:0;color:gray;background-color:gray">
    </div>
    <div class="grow-item">
        <table *ngIf="rides && rides.length > 0" style="width: 100%;">
            <tr *ngFor="let r of rides">
                <td class="card">
                    <table>
                        <hr *ngIf="rides.indexOf(r) > 0">
                        <tr>
                            <td>
                                <u>{{ r.date | date: 'dd.MM.yyyy' }}</u>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button (click)="openWaze(r.from)"
                                    style="color: blue;background-color: transparent;border: transparent;">
                                    <u>{{ r.from + (r.time?' (' + (r.time | date: "HH:mm") + ')' : "")}}</u>
                                </button>
                                {{ ' -> ' }}
                                <button mat-flat-button style="color: blue;background-color: transparent;">
                                    <u>{{ r.to + ' (' + (r.visitTime | date: "HH:mm")+ ')'}}</u>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td><u>Patient</u>
                                <mat-icon *ngFor="let i of r.equipment">
                                    {{ i }}
                                </mat-icon>
                                <button mat-flat-button>
                                    <mat-icon>call</mat-icon>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button mat-flat-button style="color: blue;background-color: transparent;">
                                    <u>{{ r.pName }} {{ r.age > 0 ? '('+r.age+')': '' }}</u>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td><button mat-flat-button style="color: blue;background-color: transparent;"
                                    (click)="openContacts(r)"><u>{{ r.contactsCount + ' escorts' }}</u></button></td>
                        </tr>
                        <tr>
                            <td></td>
                        </tr>
                    </table>
                </td>
                <td>
                    <button *ngIf="r.w4Start" mat-raised-button color="primary" (click)="startDriving(r.rId)">
                        Start..
                    </button>
                    <button *ngIf="r.w4Pickup" mat-raised-button color="primary" (click)="pickup(r.rId)">
                        Pickup..
                    </button>
                    <button *ngIf="r.w4Arrived" mat-raised-button color="primary" (click)="arrived(r.rId)">
                        Arrived..
                    </button>
                </td>
            </tr>
        </table>
    </div>
    <div class="footer">
    </div>
</div>